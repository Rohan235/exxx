function e(e,n,t,a){Object.defineProperty(e,n,{get:t,set:a,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},d=t.parcelRequire3a11;null==d&&((d=function(e){if(e in a)return a[e].exports;if(e in r){var n=r[e];delete r[e];var t={id:e,exports:{}};return a[e]=t,n.call(t.exports,t,t.exports),t.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,n){r[e]=n},t.parcelRequire3a11=d),d.register("27Lyk",(function(n,t){var a,r;e(n.exports,"register",(()=>a),(e=>a=e)),e(n.exports,"resolve",(()=>r),(e=>r=e));var d={};a=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)d[n[t]]=e[n[t]]},r=function(e){var n=d[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),d("27Lyk").register(JSON.parse('{"g04zn":"mealPlanner.f14edfe0.js","eyyUD":"icons.7bb96926.svg","1J7OZ":"mealPlanner.ef01a64d.js","9df1U":"mealPlanner.b75d3415.js"}')),d("3gXC5"),d("ic7rk");var l,s=d("1is5Y"),i=d("hY7mJ");l=new URL("../"+d("27Lyk").resolve("eyyUD"),import.meta.url).toString();var o=d("4YTqJ"),c=d("ge6e3");class u extends o.default{_parentElement=document.querySelector(".planner__grid");addHandlerLoadPlanner(e){window.addEventListener("load",e)}addHandlerResetPlanner(e){document.querySelector(".page-options__btn--reset-calendar").addEventListener("click",e)}addHandlerDeletePlanned(e){this._parentElement.addEventListener("click",(function(n){const t=n.target.closest(".planned__remove-btn");if(!t)return;const a=t.closest(".planned").dataset.positionI,r=t.closest(".planned").dataset.positionJ;e(a,r)}))}addHandlerDetectChange(){this._parentElement.closest(".section__planner").querySelector(".planner__form").addEventListener("input",(function(e){this.querySelector(".planner__submit").click()}))}addHandlerSubmitWeekday(e){this._parentElement.closest(".section__planner").querySelector(".planner__form").addEventListener("submit",(function(n){console.log("triggered"),n.preventDefault();const t=+this.querySelector("#weekday").value;console.log(t),e(t)}))}clearCell(e,n){Array.from(this._parentElement.getElementsByClassName("planned")).find((t=>t.dataset.positionI===e&&t.dataset.positionJ===n)).innerHTML=""}_generateMarkup(){const e=this._data.active;return console.log(e),this._data[1===this._data.page?"currentWeek":"nextWeek"].map(((n,t)=>n.map(((n,a)=>this._generatePlannerCell(t,a,n,e))).join(""))).join("")}_generatePlannerCell(e,t,a,r){const d=window.location.hash;return`\n      <div class="planner__recipe planner__recipe--${e+1}${t+1} planned ${e===r?"planner__recipe--active":""}" data-position-i="${e}" data-position-j="${t}">\n        ${a?`\n        <a class="planned__link ${d===a.id?"planned__link--active":""}" href="${a.id}">\n            <figure class="planned__fig">\n                <img src="${a.img}" alt="${a.title}" />\n            </figure>\n            <h4 class="planned__title">${(0,c.maxFourWords)(a.title)}</h4>\n            \n        </a>\n        <div class="planned__remove-btn" data-id=${a.id}>\n              <svg>\n                <use href="${n(l)}#icon-bin"></use>\n              </svg>\n        </div>\n        `:""}   \n      </div>\n      `}}var p=new u;d("1is5Y");o=d("4YTqJ");class f extends o.default{_parentElement=document.querySelector(".planner__pagination");addHandlerRenderBtns(e){window.addEventListener("load",e)}addHandlerChangeWeek(e){this._parentElement.addEventListener("click",(function(n){const t=n.target.closest(".btn--week");if(!t)return;const a=+t.dataset.goToWeek;e(a)}))}_generateMarkup(){const e=this._data.page;return 1===e?`\n      <button class="btn--week pagination__btn--next" data-go-to-week="${e+1}">\n        <span>Next week</span>\n        <svg class="search__icon">\n          <use href="${n(l)}#icon-arrow-right"></use>\n        </svg>\n      </button>\n      `:2===e?`\n      <button class="btn--week pagination__btn--prev" data-go-to-week="${e-1}">\n        <svg class="search__icon">\n          <use href="${n(l)}#icon-arrow-left"></use>\n        </svg>\n        <span>Current week</span>\n      </button>\n      `:void 0}}var _=new f;o=d("4YTqJ"),c=d("ge6e3");class g extends o.default{_parentElement=document.querySelector(".planner__date");addHandlerRenderDate(e){window.addEventListener("load",e)}_generateMarkup(){return`\n    <div class="planner__date-label">\n        <div class="planner__date-text">${(0,c.formatDate)()}</div>\n    </div>\n    `}}var v=new g,h=d("5smQv");d("9NZOq");const m=async function(){try{const e=window.location.hash.slice(1);if(!e)return;i.default.scrollToRecipe(),i.default.renderSpinner(),p.render(s.state.planner),await s.loadRecipe(e),i.default.render(s.state.recipe)}catch(e){console.error(`${e.message} ⚠⚠⚠`),i.default.renderError()}s.state.recipe.calories||i.default.render(s.state.recipe)},w=function(e){s.updateServings(e),i.default.update(s.state.recipe)},b=function(e){s.addIngredient(e)},k=function(){s.changeActive(0),p.render(s.state.planner)},H=function(){s.clearPlanner(),p.render(s.state.planner)},y=function(e,n){s.deleteMeal(e,n),p.clearCell(e,n)},E=function(){s.changeWeek(1),_.render(s.state.planner),p.render(s.state.planner)},S=function(e=1){s.changeWeek(e),_.render(s.state.planner),p.render(s.state.planner)},$=function(){v.render(s.state.planner)},L=function(e){s.changeActive(e),p.render(s.state.planner)},R=function(e){let n="light";"light"===e&&(n="dark"),s.changeTheme(n),h.default.setTheme(n)};i.default.addHandlerRender(m),i.default.addHandlerUpdateServings(w),i.default.addHandlerAddIngredient(b),p.addHandlerLoadPlanner(k),p.addHandlerResetPlanner(H),p.addHandlerDeletePlanned(y),p.addHandlerSubmitWeekday(L),p.addHandlerDetectChange(),_.addHandlerRenderBtns(E),_.addHandlerChangeWeek(S),v.addHandlerRenderDate($),h.default.addHandlerChangeTheme(R),h.default.setTheme(s.state.theme);
//# sourceMappingURL=mealPlanner.f14edfe0.js.map
